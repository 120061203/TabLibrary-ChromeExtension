<!DOCTYPE html>
<html lang="zh-Hant">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Tab Library</title>
    <link rel="stylesheet" href="library.css" />
  </head>
  <body>
    <header class="page-header">
      <div class="title-block">
        <h1>Tab Library</h1>
        <p class="subtitle">快速檢視、搜尋並整理目前開啟的所有分頁</p>
      </div>
      <div class="search-block">
        <input
          id="search-input"
          type="search"
          placeholder="搜尋標題或網址..."
          aria-label="搜尋分頁"
        />
        <button id="refresh-button" class="md-button md-button--filled" type="button">
          重新整理
        </button>
      </div>
    </header>

    <section class="toolbar" aria-label="檢視設定">
      <label class="control">
        <span>分類</span>
        <select id="grouping-select" aria-label="選擇分類方式">
          <option value="none">不分類</option>
          <option value="window">依視窗</option>
          <option value="domain">依網域</option>
        </select>
      </label>
      <label class="control">
        <span>排序</span>
        <select id="sort-select" aria-label="選擇排序方式">
          <option value="lastAccessed-desc">最近使用</option>
          <option value="title-asc">標題 A → Z</option>
          <option value="title-desc">標題 Z → A</option>
          <option value="domain-asc">網域 A → Z</option>
          <option value="domain-desc">網域 Z → A</option>
        </select>
      </label>
      <div class="toolbar-actions">
        <button id="import-button" class="md-button md-button--tonal" type="button">
          匯入 JSON
        </button>
        <button id="export-button" class="md-button md-button--filled" type="button">
          匯出 JSON
        </button>
        <input id="import-input" type="file" accept="application/json" hidden />
      </div>
    </section>

    <main>
      <section id="cards-container" class="cards" aria-live="polite"></section>
      <section id="empty-state" class="empty-state" hidden>
        <h2>目前沒有符合條件的分頁</h2>
        <p>確認瀏覽器中是否仍有開啟的分頁，或嘗試重新整理。</p>
      </section>
    </main>

    <template id="tab-group-template">
      <section class="tab-group">
        <header class="group-header">
          <h2 class="group-title"></h2>
          <span class="group-count"></span>
        </header>
        <div class="group-cards"></div>
      </section>
    </template>

    <template id="tab-card-template">
      <article class="tab-card md-card" tabindex="0">
        <button class="close-button md-icon-button" type="button" aria-label="關閉分頁">
          ✕
        </button>
        <header>
          <img class="favicon" alt="" />
          <div class="tab-texts">
            <h3 class="tab-title"></h3>
            <p class="tab-url"></p>
          </div>
        </header>
        <footer>
          <span class="tab-meta"></span>
        </footer>
      </article>
    </template>

    <output id="toast" class="toast" role="status" aria-live="polite" hidden></output>

    <script type="module" src="library.js"></script>
  </body>
</html>
